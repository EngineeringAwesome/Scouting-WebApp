<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="shorcut icon" href="bootstrap-3.0.0/assets/ico/favicon.png">

  <title> Alliance Selection </title>
  
  <!-- Bootstrap Core Css -->
  <link href="bootstrap-3.0.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style> body { padding-top: 50px;} </style>
  
  <script>
	    //check for web storage
		var hasWebStorage = false;
		if(typeof(Storage) !== undefined) {
			console.log("has localStorage");
			hasWebStorage = true;
		}
		else {
			console.log("Oh-Noes: local storage unsupported!");
		}
		
		//retrieve team list
		var teamList;
		if(hasWebStorage) {
			var retrievedObject = localStorage.getItem('teamList');
			console.log('retrievedObject: ', JSON.parse(retrievedObject));
			teamList = JSON.parse(retrievedObject);
		}	
		if (teamList === null) {
			console.log("nothing was there");
			teamList = new Array();
		}
  </script>
</head>

<body>
  <div class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">Scouting App</a>
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li><a href="index.html"><span class="glyphicon glyphicon-home"></span> Home</a></li>
          <li> <a href="teams.html"><span class="glyphicon glyphicon-user"></span> Teams </a></li>
          <li class="active"> <a href="allianceSelection.html"><span class="glyphicon glyphicon-list-alt"></span> Alliance Selection</a></li>
          <li> <a href="settings.html"><span class="glyphicon glyphicon-cog"></span> Settings </a></li>
        </ul>
      </div>
    </div>
  </div>
  
  <div class="container">
	  <h1 class="text-center"> All Competing Teams</h1>
	  <table class="table table-bordered">
		  <thead>
			<tr>
			  <th> Team</th>
			  <th> Parks on Bridge?</th>
			  <th> Detects IR?</th>
			  <th> Places Blocks?</th>
			  <th> Can Hang?</th>
			  <th> Raises Flag?</th>
			</tr>
		  </thead>
		  <tbody>
		    <script>
			  for(var i=0; i<teamList.length; i++) {
				  var teamRow = "<tr>";
				  teamRow += "<td>" + teamList[i].number + "</td>";
				  if(teamList[i].canBridge) {
					  teamRow += "<td class='alert alert-success'> Yes </td>";
				  } else {
					  teamRow += "<td class='alert alert-danger'> Nope</td>";
				  }
				  if(teamList[i].canIr) {
					  teamRow += "<td class='alert alert-success'> Yes </td>";
				  } else {
					  teamRow += "<td class='alert alert-danger'> Nope</td>";
				  }
				  if(teamList[i].canBasket) {
					  if(teamList[i].basketReliability < 4) {
						teamRow += "<td class='alert alert-warning'>" + teamList[i].basketReliability + "/5 </td>";
					  } else {
						teamRow += "<td class='alert alert-success'>" + teamList[i].basketReliability + "/5 </td>";
					  }
				  } else {
					  teamRow += "<td class='alert alert-danger'> Nope</td>";
				  }
				  if(teamList[i].canHang) {
					  teamRow += "<td class='alert alert-success'> Yes </td>";
				  } else {
					  teamRow += "<td class='alert alert-danger'> Nope</td>";
				  }
				  if(teamList[i].flagLevel == "high") {
					  teamRow += "<td class='alert alert-success'>" + teamList[i].flagTime + " sec. </td>";
				  } else if(teamList[i].flagLevel == "low") {
					  teamRow += "<td class='alert alert-warning'>" + teamList[i].flagTime + " sec. </td>";
				  } else {
					  teamRow += "<td class='alert alert-danger'> Nope </td>";
				  }
				  
				  teamRow += "</tr>";
				  document.write(teamRow);
			  }
		    </script>
		  </tbody>
	  </table>
  </div>
  <div class="container" id ="empty" style="margin-bottom:1000px">&nbsp;
  </div>
  
  <script src="bootstrap-3.0.0/assets/js/jquery.js"></script>
  <script src="bootstrap-3.0.0/dist/js/bootstrap.min.js"></script>
</body>
</html>
</html>
